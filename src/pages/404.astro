---
import type { GetStaticPaths } from "astro";
import Layout from "../layouts/Layout.astro";
import { Image } from "astro:assets";
import NotfoundImage from "../assets/image/404Cat.webp";
import Breadcrumbs from "../components/Breadcrumbs.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import globalText from "../data/globalText.json";
import errorText from "../data/errorText.json";

export const getStaticPaths: GetStaticPaths = () => {
  return [];
};

export const prerender = true;

const crumbs = [{ name: "Home", path: "/" }, { name: "404 Not Found Error" }];

const notFoundImageMeta = {
  alt: "404 NotFound エラーを案内する猫の画像",
  width: 200,
  height: 200,
};
const notFoundLinks = {
  href: "/",
  ariaLabel: "トップページへ戻る",
  ariaTitle: "トップページへ戻る",
  label: "トップページ",
};
---

<Layout
  title={globalText.notFound404.title}
  description={globalText.notFound404.description}
  ogType={globalText.local.type}
  ogTitle={globalText.notFound404.title}
  ogDescription={globalText.notFound404.description}
  twitterTitle={globalText.notFound404.title}
  twitterDescription={globalText.notFound404.description}
>
  <link slot="head" rel="preload" href={NotfoundImage.src} as="image" fetchpriority="high" />

  <div id="outer-container">
    <Header />
    <main id="page-wrap">
      <div class="breadcrumbs__wrapper">
        <Breadcrumbs {crumbs} />
      </div>
      <div class="notFound__wrapper">
        <h1 class="notFound__header">
          {errorText.notFound.title}
        </h1>
        <p class="notFound__body">
          {errorText.notFound.body.text1}
        </p>
        <Image
          class="notFound__image"
          src={NotfoundImage}
          alt={notFoundImageMeta.alt}
          width={notFoundImageMeta.width}
          height={notFoundImageMeta.height}
          loading="lazy"
          decoding="async"
        />
        <p class="notFound__body">
          {errorText.notFound.body.text2}
        </p>
        <p class="notFound__body">
          {errorText.notFound.body.text3}
        </p>
        <p class="notFound__body">
          {errorText.notFound.body.text4}
        </p>
        <p class="notFound__body">
          <a
            class="notFound__link"
            href={notFoundLinks.href}
            aria-label={notFoundLinks.ariaLabel}
            title={notFoundLinks.ariaTitle}
          >
            {notFoundLinks.label}
          </a>
          {errorText.notFound.body.text5}
        </p>
      </div>
    </main>
    <Footer />
  </div>
</Layout>

<style>
  .notFound__wrapper {
    width: 100%;
    max-width: 500px;
    margin-inline: auto;
  }
  @media (width <= 480px) {
    .notFound__wrapper {
      width: 90%;
    }
  }
  .notFound__header {
    font-size: 2rem;
    color: var(--color-red);
    text-align: center;
    text-transform: uppercase;
    margin-block-start: 3rem;
  }

  .notFound__body {
    font-size: 1rem;
    line-height: 1.8;
    letter-spacing: 0.12em;
    color: inherit;
    /* text-align: center; */
    margin-block-start: 1rem;
  }

  .notFound__body:nth-of-type(1) {
    font-weight: 700;
    letter-spacing: 0.2em;
    text-align: center;
    margin-block-start: 1rem;
  }
  @media (width <= 480px) {
    .notFound__body {
      font-size: 0.9375rem;
    }
  }

  .notFound__image {
    display: block;
    width: 200px;
    height: 200px;
    border-radius: 20%;
    object-fit: contain;
    margin-block-start: 1rem;
    margin-inline: auto;
    padding-block: 1rem;
    padding-inline: 1rem;
    animation: movingCat 2s alternate infinite;
  }
  @keyframes movingCat {
    0% {
      transform: translateY(0) translateZ(0);
    }
    100% {
      transform: translateY(-10px) translateZ(16px);
    }
  }

  .notFound__link {
    display: inline-block;
    color: var(--color-purple);
    text-decoration: underline;
  }
  .notFound__link:is(:hover, :focus-visible) {
    color: var(--color-red);
    text-decoration: none;
  }
</style>
