---
import Layout from "../../layouts/Layout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import Breadcrumbs from "../../components/Breadcrumbs.astro";
import worksText from "../../data/worksText.json";
import globalText from "../../data/globalText.json";
import { WORKS_SLUG_API, WORKS_PATH_API } from "../../api/headlessCms";

interface Works {
  id: number;
  date: number;
  title: {
    rendered: string;
  };
  slug: string;
  acf?: {
    screenshot_pc?: string;
    left_link?: string;
    span_access?: string;
    span_user?: string;
    span_password?: string;
    left_text?: string;
    pc_image?: string;
    right_header?: string;
    right_title?: string;
    icon_image?: string;
    right_access?: string;
    sp_image?: string;
    right_link?: string;
    description?: string;
    icon_vscode?: string;
    icon_cursor?: string;
    icon_html?: string;
    icon_css?: string;
    icon_sass?: string;
    icon_javascript?: string;
    icon_jquery?: string;
    icon_typescript?: string;
    icon_gsap?: string;
    icon_swiper?: string;
    icon_three?: string;
    icon_react?: string;
    icon_wordpress?: string;
    icon_vite?: string;
    icon_gulp?: string;
    icon_webpack?: string;
    icon_astro?: string;
    icon_netlify?: string;
    icon_vercel?: string;
    icon_github?: string;
    icon_canva?: string;
    icon_adobexd?: string;
    icon_photoshop?: string;
    icon_illustrator?: string;
    icon_figma?: string;
  };
}

interface WorksTextData {
  worksTitle: string;
  worksText: string;
  [key: string]:
    | {
        left_leadMenu: {
          header: string;
          body: string;
        }[];
      }
    | string;
}

const typedWorksText: WorksTextData = worksText as unknown as WorksTextData;

const { slug } = Astro.params as { slug: string };
let work: Works | null = null;

const workTextData =
  slug in typedWorksText && typedWorksText[slug] !== null && typeof typedWorksText[slug] === "object"
    ? typedWorksText[slug]
    : null;

try {
  const resWorks = await fetch(
    // `${import.meta.env.PUBLIC_API_URL}works?_fields=acf,slug,title&acf_format=standard&slug=${slug}`,
    `${WORKS_SLUG_API}${slug}`
  );

  console.log("Fetching data WORKS_SLUG_API:", WORKS_SLUG_API);

  if (!resWorks.ok) {
    console.error("Failed to fetch work data. Status:", resWorks.status);
    throw new Error("Failed to fetch work data");
  }

  const data = (await resWorks.json()) as Works[];

  console.log("API Response:", data);

  if (Array.isArray(data) && data.length > 0 && data[0] !== undefined) {
    work = data[0];
  } else {
    console.warn(`No data found for slug: ${slug}`);
    work = null;
  }
} catch (error) {
  console.error("Error fetching work data:", error);
  work = null;
}

export async function getStaticPaths() {
  try {
    console.log("üîç [Works Slug] Fetching works from:", WORKS_PATH_API);
    const res = await fetch(WORKS_PATH_API);

    if (!res.ok) {
      console.error(`‚ùå [Works Slug] Failed to fetch works: ${res.status} ${res.statusText}`);
      console.error(`‚ùå [Works Slug] API URL: ${WORKS_PATH_API}`);
      throw new Error(`Failed to fetch works data: ${res.status} ${res.statusText}`);
    }

    const dataWorks = (await res.json()) as Works[];
    console.log(`‚úÖ [Works Slug] Successfully fetched ${dataWorks.length} works`);

    if (!Array.isArray(dataWorks) || dataWorks.length === 0) {
      console.warn("‚ö†Ô∏è [Works Slug] No works found. Returning empty paths.");
      console.warn("‚ö†Ô∏è [Works Slug] This will result in 404 errors for work detail pages.");
      return [];
    }

    const paths = dataWorks.map((work) => ({
      params: { slug: work.slug },
      props: { work },
    }));

    console.log(`‚úÖ [Works Slug] Generated ${paths.length} work detail pages`);
    console.log(`üìã [Works Slug] Slugs:`, paths.map((p) => p.params.slug).join(", "));

    return paths;
  } catch (error) {
    console.error("‚ùå [Works Slug] Error in getStaticPaths:", error);
    console.error("‚ùå [Works Slug] API URL:", WORKS_PATH_API);
    if (error instanceof Error) {
      console.error("‚ùå [Works Slug] Error message:", error.message);
      console.error("‚ùå [Works Slug] Error stack:", error.stack);
    }
    return [];
  }
}

if (!work) {
  console.error(`No matching data found for slug: ${slug}`);
  throw new Error("404: Not Found");
}

const icons = work?.acf
  ? Object.entries(work.acf)
      .filter(([key, value]) => key.startsWith("icon_") && typeof value === "string" && value.trim() !== "")
      .map(([key, value]) => ({
        name: key.replace("icon_", ""),
        url: value.trim(),
      }))
  : [];

const worksSlugTitle = work?.title?.rendered;
const worksSlugDescription = work?.acf?.description ?? "";
const worksScreenshotPc = work?.acf?.screenshot_pc ?? "";
const worksPcImage = work?.acf?.pc_image;
const worksSpImage = work?.acf?.sp_image;
const worksIconImage = work?.acf?.icon_image;
const worksSlugLeftLink = work?.acf?.left_link;
const worksSlugRightLink = work?.acf?.right_link;
const worksRightHeader = work?.acf?.right_header;
const worksRightAccess = work?.acf?.right_access;

const jsonLd = JSON.stringify({
  "@context": "https://schema.org",
  "@type": "CreativeWork",
  name: worksSlugTitle,
  description: work?.acf?.description?.replace(/(<([^>]+)>)/gi, "").trim(),
  url: `${globalText.url}/works/${work.slug}`,
  dataPublished: work.date,
  author: {
    "@type": "Person",
    name: "hibari-konaweb.com",
  },
  image: worksScreenshotPc,
});

const worksSlugLinks = {
  slug: { rendered: work?.slug },
  ariaLabel: "„ÅÆ„Éö„Éº„Ç∏„Å∏(Êñ∞„Åó„ÅÑ„Çø„Éñ„ÅßÈñã„Åç„Åæ„Åô)",
  ariaTitle: "„ÅÆ„Éö„Éº„Ç∏„Å∏(Êñ∞„Åó„ÅÑ„Çø„Éñ„ÅßÈñã„Åç„Åæ„Åô)",
  targetBlank: "_blank",
};

const crumbs = [{ name: "Home", path: "/" }, { name: "Works", path: "/works" }, { name: worksSlugTitle }];
---

<Layout
  title={worksSlugTitle ?? "Work PageTitle Not Found"}
  description={worksSlugDescription}
  ogType={globalText.local.type}
  ogTitle={worksSlugTitle ?? "Work PageTitle Not Found"}
  ogDescription={worksSlugDescription}
  twitterTitle={worksSlugTitle ?? "Work PageTitle Not Found"}
  twitterDescription={worksSlugDescription}
  jsonLd={jsonLd}
>
  <div id="outer-container">
    <Header />
    <main id="page-wrap">
      <div class="breadcrumbs__wrapper">
        <Breadcrumbs {crumbs} />
      </div>
      <div>
        {
          work !== null ? (
            <article class="work">
              <div class="split__container">
                <div class="split left left1">
                  <div class="left__imageInner">
                    <img
                      class="left__image"
                      src={worksScreenshotPc}
                      alt={worksSlugTitle?.trim() !== "" ? worksSlugTitle : "No image available"}
                      loading="lazy"
                      decoding="async"
                    />
                  </div>
                  <div class="left__inner">
                    {/* „Çµ„Ç§„Éà„Çø„Ç§„Éà„É´ */}
                    <h2 class="left__title" set:html={worksSlugTitle ?? "No title available"} />
                    <a
                      class="left__link"
                      href={worksSlugLeftLink}
                      aria-label={`${worksSlugTitle}${worksSlugLinks.ariaLabel}`}
                      title={`${worksSlugTitle}${worksSlugLinks.ariaTitle}`}
                    >
                      {/* BasicË™çË®º„ÉÜ„Ç≠„Çπ„Éà */}
                      <span set:html={work?.acf?.span_access ?? ""} />
                      {/* „Ç¢„ÇØ„Çª„ÇπÊ®©Èôê„ÉÜ„Ç≠„Çπ„Éà */}
                      <span set:html={work?.acf?.span_user ?? ""} />
                      {/* „É¶„Éº„Ç∂„ÉºÂêç */}
                      <span set:html={work?.acf?.span_password ?? ""} />
                      {/* „Éë„Çπ„ÉØ„Éº„Éâ */}
                      <span set:html={worksSlugLeftLink ?? ""} />
                      {/* „Çµ„Ç§„Éà„É™„É≥„ÇØ URL */}
                    </a>
                    {/* „Çµ„Ç§„Éà„ÅÆÁâπÂæ¥ */}
                    <ul class="left__leadMenu">
                      {workTextData?.left_leadMenu && workTextData.left_leadMenu.length > 0 ? (
                        workTextData.left_leadMenu.map(({ header, body }) => (
                          <li class="left__leadMenu_item">
                            <h2 class="left__leadMenu_header">{header}</h2>
                            <p class="left__leadMenu_body">{body}</p>
                          </li>
                        ))
                      ) : (
                        <li>
                          <p style="display:none;" />
                        </li>
                      )}
                    </ul>
                  </div>
                </div>

                <div class="split right site1">
                  {/* „Çµ„Ç§„Éà pcÁîªÂÉè */}
                  <div class="right__pcImageInner">
                    <img
                      class="right__pcImage"
                      src={worksPcImage ?? ""}
                      alt={worksSlugTitle.trim() !== "" ? worksSlugTitle : "No image available"}
                      loading="lazy"
                      decoding="async"
                    />
                  </div>
                  {/* „Çµ„Ç§„Éà„Çø„Ç§„Éà„É´ */}
                  <h1 class="right__header" set:html={worksRightHeader ?? "No title available"} />
                  {/* „É≠„Ç¥„Ç¢„Ç§„Ç≥„É≥ */}
                  <img
                    class="right__logoIcon"
                    src={worksIconImage ?? ""}
                    alt={worksSlugTitle.trim() !== "" ? worksSlugTitle : "No image available"}
                    loading="lazy"
                    decoding="async"
                  />
                  {/* BasicË™çË®º„ÉÜ„Ç≠„Çπ„Éà */}
                  <p class="right__text" set:html={worksRightAccess ?? ""} />
                  {/* „Çµ„Ç§„Éà spÁîªÂÉè */}
                  <img
                    class="right__spImage"
                    src={worksSpImage ?? ""}
                    alt={worksSlugTitle ?? "No image"}
                    loading="lazy"
                    decoding="async"
                  />
                  {/* „Çµ„Ç§„Éà„É™„É≥„ÇØ URL */}
                  <a
                    class="right__link"
                    href={worksSlugRightLink}
                    aria-label={`${worksSlugRightLink}${worksSlugLinks.ariaLabel}`}
                    title={`${worksSlugRightLink}${worksSlugLinks.ariaTitle}`}
                    set:html={worksSlugRightLink}
                    target={worksSlugLinks.targetBlank}
                  />
                  {/* „Çπ„Ç≠„É´„Ç¢„Ç§„Ç≥„É≥ */}
                  <ul class="right__iconMenu">
                    {icons.length > 0 ? (
                      icons.map(({ name, url }) => (
                        <li class="right__iconMenu_item">
                          <img
                            class="right__iconMenu_image"
                            src={url}
                            alt={`${name} icon`}
                            loading="lazy"
                            decoding="async"
                          />
                          <span class="right__iconMenu_text">{name}</span>
                          <div class="right__iconMenu_cover" />
                        </li>
                      ))
                    ) : (
                      <li class="right__iconMenu_item">
                        <span>{worksText.error.noIcon}</span>
                      </li>
                    )}
                  </ul>
                </div>
              </div>
            </article>
          ) : (
            <div>
              <h1>{worksText.error.title}</h1>
              <p>{worksText.error.text}</p>
            </div>
          )
        }
      </div><!-- #page-wrap -->
    </main>
  </div><!-- #outer-container -->
  <Footer />
</Layout>

<script>
  // @ts-nocheck
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  // GSAP„Éó„É©„Ç∞„Ç§„É≥„ÇíÁôªÈå≤
  gsap.registerPlugin(ScrollTrigger);

  // „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÂàùÊúüÂåñ
  function init() {
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", function () {
        initSplitAnimations();
      });
    } else {
      initSplitAnimations();
    }
  }

  init();

  // „É™„Çµ„Ç§„Ç∫ÊôÇ„ÅÆÂá¶ÁêÜ
  let resizeTimer: ReturnType<typeof setTimeout>;
  window.addEventListener("resize", () => {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(() => {
      ScrollTrigger.refresh();
    }, 250);
  });

  function initSplitAnimations() {
    const containers = document.querySelectorAll(".split__container");
    const isMobile = window.innerWidth <= 768;

    containers.forEach((container) => {
      const splitElement = {
        containers: container,
        left: container.querySelector(".left"),
        right: container.querySelector(".right"),
        rightHeader: container.querySelector(".right__header"),
        rightText: container.querySelector(".right__text"),
        spImage: container.querySelector(".right__spImage"),
        rightLink: container.querySelector(".right__link"),
        iconMenuItems: container.querySelectorAll(".right__iconMenu_item"),
      };

      // „Çπ„Éû„Éõ„Çµ„Ç§„Ç∫„ÅÆÂ†¥Âêà„ÄÅ„Éë„É©„É©„ÉÉ„ÇØ„ÇπÂäπÊûú„Å®„Çπ„ÇØ„É≠„Éº„É´„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
      if (isMobile) {
        if (splitElement.spImage) {
          gsap.set(splitElement.spImage, { opacity: 1 });
        }
        if (splitElement.rightText) {
          gsap.set(splitElement.rightText, { opacity: 1 });
        }
        if (splitElement.rightLink) {
          gsap.set(splitElement.rightLink, { opacity: 1 });
          if (splitElement.rightLink.textContent) {
            addStyledText(splitElement.rightLink, 100);
          }
        }
        if (splitElement.rightHeader && splitElement.rightHeader.textContent) {
          addStyledText(splitElement.rightHeader, 200);
        }

        if (splitElement.left) {
          gsap.set(splitElement.left, { opacity: 1, y: 0 });

          const leftInner = splitElement.left.querySelector(".left__inner");
          if (leftInner) {
            gsap.set(leftInner, { opacity: 1, y: 0 });
          }

          ScrollTrigger.create({
            trigger: splitElement.left,
            start: "top bottom",
            end: "top center",
            scrub: true,
            onUpdate: (self) => {
              const progress = self.progress;
              if (leftInner) {
                gsap.set(leftInner, {
                  opacity: progress,
                  y: 30 * (1 - progress),
                  force3D: true,
                });
              }
            },
          });

          const leftImage = splitElement.left.querySelector(".left__image");
          if (leftImage) {
            ScrollTrigger.create({
              trigger: splitElement.left,
              start: "top bottom",
              end: "bottom top",
              scrub: true,
              onUpdate: (self) => {
                gsap.set(leftImage, {
                  y: -20 * self.progress,
                  force3D: true,
                });
              },
            });
          }
        }
      } else {
        // „Éá„Çπ„ÇØ„Éà„ÉÉ„Éó„Çµ„Ç§„Ç∫„ÅÆÂ†¥Âêà„ÄÅ„Éõ„Éê„Éº„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÇíÊúâÂäπÂåñ
        if (splitElement.left) {
          const leftImage = splitElement.left.querySelector(".left__image");

          splitElement.left.addEventListener("mouseenter", () => {
            container.classList.add("hover-left");
            // ÁîªÂÉè„Çí„Éï„Çß„Éº„Éâ„Ç¢„Ç¶„ÉàÔºà„ÇÇ„ÅÜÂ∞ë„ÅóË°®Á§∫„Åï„Åõ„Å¶„Åã„ÇâÔºâ
            if (leftImage) {
              gsap.to(leftImage, {
                opacity: 0,
                duration: 0.6,
                ease: "power1.out",
                delay: 1.3,
              });
            }
            // „ÉÜ„Ç≠„Çπ„ÉàÈÉ®ÂàÜ„Çí„Éï„Çß„Éº„Éâ„Ç§„É≥ÔºàÁîªÂÉè„ÅåÊ∂à„Åà„Å¶„Åã„ÇâÔºâ
            setTimeout(() => fadeInElement(splitElement.left?.querySelector(".left__inner")), 2200);
          });

          splitElement.left.addEventListener("mouseleave", () => {
            container.classList.remove("hover-left");
            // ÁîªÂÉè„Çí„Éï„Çß„Éº„Éâ„Ç§„É≥
            if (leftImage) {
              gsap.to(leftImage, {
                opacity: 1,
                duration: 0.4,
                ease: "power1.out",
              });
            }
            fadeOutElement(splitElement.left?.querySelector(".left__inner"));
          });
        }

        if (splitElement.right) {
          splitElement.right.addEventListener("mouseenter", () => {
            container.classList.add("hover-right");

            if (splitElement.spImage) setTimeout(() => fadeInElement(splitElement.spImage), 800);
            if (splitElement.rightHeader) addStyledText(splitElement.rightHeader, 200);
            if (splitElement.rightLink) {
              setTimeout(() => fadeInElement(splitElement.rightLink), 800);
              addStyledText(splitElement.rightLink, 100);
            }
            if (splitElement.rightText) {
              setTimeout(() => fadeInElement(splitElement.rightText), 800);
            }
          });

          splitElement.right.addEventListener("mouseleave", () => {
            container.classList.remove("hover-right");

            if (splitElement.spImage) fadeOutElement(splitElement.spImage);
            if (splitElement.rightText) fadeOutElement(splitElement.rightText);
            if (splitElement.rightLink) fadeOutElement(splitElement.rightLink);
          });
        }
      }

      // „Ç¢„Ç§„Ç≥„É≥„Éõ„Éê„Éº
      if (splitElement.iconMenuItems) {
        splitElement.iconMenuItems.forEach((icon) => {
          icon.addEventListener("mouseenter", () => {
            icon.classList.add("is-active");
          });
          icon.addEventListener("mouseleave", () => {
            icon.classList.remove("is-active");
          });
        });
      }
    });

    function fadeInElement(element) {
      if (element) {
        gsap.to(element, {
          opacity: 1,
          duration: 1.2,
          ease: "power1.out",
        });
      }
    }

    function fadeOutElement(element) {
      if (element) {
        gsap.to(element, {
          opacity: 0,
          duration: 1,
          ease: "power1.out",
        });
      }
    }

    function addStyledText(element, delay) {
      const newText = [...(element.textContent || "")].map((char) => `<span>${char}</span>`);
      element.innerHTML = newText.join("");

      Array.from(element.children).forEach((char, index) => {
        setTimeout(() => char.classList.add("is-active"), delay * index);
      });
    }
  }
</script>

<style is:global>
  :root {
    --container-bg-color: #333;
    --left-bg-color: linear-gradient(
      135deg,
      rgba(0, 191, 255, 0.4) 0%,
      rgba(64, 224, 208, 0.5) 50%,
      rgba(0, 255, 127, 0.4) 100%
    );

    --right-bg-color: rgba(43, 43, 43, 0.8);
    --right-button-hover-color: rgba(92, 92, 92, 0.3);
    --hover-width: 75%;
    --other-width: 25%;
    /* --speed: 1000ms; */
    --speed: 800ms;
    --gradient: linear-gradient(150deg, rgba(0, 19, 172, 1) 0%, rgba(100, 255, 209, 1) 55%, rgba(43, 255, 152, 1) 100%);
  }
  .work {
    color: var(--color-white);
    position: relative;
    z-index: 1;
    height: 100vh;
  }
  .split__container {
    width: 100%;
    height: 100%;
    background: var(--container-bg-color);
    position: relative;
  }
  .split.left::before,
  .split.right::before {
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
  }
  .split.left::before {
    background: var(--left-bg-color);
  }
  .split.right::before {
    background: var(--right-bg-color);
  }
  .split.left,
  .split.right,
  .split.left::before,
  .split.right::before {
    transition: var(--speed) all ease-in-out;
  }
  .hover-left .left,
  .hover-right .right {
    width: var(--hover-width);
  }
  .hover-left .split.left::before,
  .hover-right .split.right::before {
    background: transparent;
  }
  .hover-right .split.left::before {
    background: linear-gradient(
      135deg,
      rgba(255, 182, 193, 0.25) 0%,
      rgba(255, 105, 180, 0.3) 50%,
      rgba(255, 20, 147, 0.25) 100%
    );
    background: var(--left-bg-color);
  }
  .hover-left .right,
  .hover-right .left {
    width: var(--other-width);
  }
  .hover-right .left::before,
  .hover-left .right::before {
    z-index: 2;
  }
  .split {
    width: 50%;
    height: 100%;
    position: absolute;
    overflow: hidden;
  }
  .split.right {
    display: grid;
    /* place-items: end; */
  }
  /* Â∑¶„Çµ„Ç§„Éâ  */
  .split.left {
    top: 0;
    left: 0;
    background-position: top center;
    background-size: contain;
    background-repeat: no-repeat;
  }
  /* Â∑¶„Çµ„Ç§„Éâ „Çµ„Ç§„ÉàÁîªÂÉè */
  .left__imageInner {
    aspect-ratio: 16 / 9;
    overflow: hidden;
  }
  .left__image {
    width: 100%;
    object-fit: cover;
    will-change: transform, opacity;
    opacity: 1;
  }
  /* Â∑¶„Çµ„Ç§„Éâ „É¢„Éº„ÉÄ„É´È¢® */
  .split.left.left1 .left__inner {
    width: 95%;
    height: 100%;
    max-height: 100vh;
    color: var(--color-black);
    background-color: transparent;
    -webkit-backdrop-filter: blur(50px);
    backdrop-filter: blur(50px);
    background-image: linear-gradient(135deg, rgba(255 255 255 / 0.9), rgba(255 255 255 / 0.3));
    background-size: 100vw 100vh;
    box-shadow: 0px 4px 60px 0 rgba(56, 74, 244, 0.75);
    border-radius: 1rem;
    position: absolute;
    top: 0%;
    left: 10%;
    left: 3%;
    z-index: 10;
    opacity: 0;
    overflow-y: auto;
    /* scrollbar-gutter: stable; */
    margin-inline: auto;
    padding-block: 3rem;
    padding-inline: 2rem;
    will-change: opacity, transform;
  }

  /* „Éõ„Éê„ÉºÊôÇ„Å´.left__inner„ÇíË°®Á§∫ */
  .hover-left .left__inner {
    opacity: 1;
  }
  /* Â∑¶„Çµ„Ç§„Éâ „Çµ„Ç§„Éà„Çø„Ç§„Éà„É´ */
  .left__title {
    font-size: 1.25rem;
    font-weight: 700;
    /* color: var(--color-black); */
    white-space: nowrap;
    margin-block-start: 1rem;
  }
  /* Â∑¶„Çµ„Ç§„Éâ „Çµ„Ç§„Éà„ÉÜ„Ç≠„Çπ„Éà */
  .left__text {
    font-size: 1rem;
    /* color: var(--color-black); */
  }
  .left__leadMenu {
    list-style: none;
  }
  .left__leadMenu_item {
    /* border: 1px solid pink; */
  }
  .left__leadMenu_header {
    font-size: 1rem;
    line-height: 1;
    letter-spacing: 0.04em;
    color: var(--color-purple);
    text-align: justify;
    margin-block-start: 2rem;
  }
  .left__leadMenu_body {
    font-size: 0.875rem;
    line-height: 1.6;
    letter-spacing: 0.16em;
    /* color: #010101; */
    text-align: justify;
    margin-block-start: 0.5rem;
  }
  /* Â∑¶„Çµ„Ç§„Éâ „Çµ„Ç§„Éà„É™„É≥„ÇØ URL */
  .left__link {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    font-size: 0.875rem;
    line-height: 1.5;
    color: var(--color-black);
    text-decoration: none;
    margin-block-start: 1rem;
  }
  .left__link span {
    line-height: 2;
  }
  .left__link span:nth-child(4) {
    color: var(--color-purple);
    text-decoration: underline;
  }
  /* Âè≥„Çµ„Ç§„Éâ „É≠„Ç¥„Ç¢„Ç§„Ç≥„É≥ */
  .right__logoIcon {
    width: 3rem;
    height: 3rem;
    box-shadow: 0 4px 15px 0 rgba(49, 196, 190, 0.75);
    border-radius: 50%;
    position: absolute;
    top: 16%;
    left: 4%;
    z-index: 1;
    animation: transLogo 2s ease-in infinite alternate;
  }
  @keyframes transLogo {
    from {
      transform: translateY(0);
    }
    to {
      transform: translateY(20px);
    }
  }
  /* Âè≥„Çµ„Ç§„Éâ „Éò„ÉÉ„ÉÄ„Éº „Çµ„Ç§„Éà„Çø„Ç§„Éà„É´ */
  .right__header {
    font-size: 1.5rem;
    color: inherit;
    white-space: nowrap;
    position: absolute;
    top: 10%;
    left: 4%;
  }
  .right__header span {
    opacity: 0;
    transform: translateX(24px);
    transition:
      opacity 0.3s ease-in,
      transform 0.3s ease-in;
  }
  .right__header span + span {
    padding: 0.1em;
  }
  .right__header span.is-active {
    opacity: 1;
    transform: translateX(0);
  }
  /* Âè≥„Çµ„Ç§„Éâ BasicË™çË®º„ÉÜ„Ç≠„Çπ„Éà */
  .right__text {
    width: 100%;
    width: 100%;
    max-width: 600px;
    font-size: 1rem;
    color: inherit;
    background-color: transparent;
    -webkit-backdrop-filter: blur(12px);
    backdrop-filter: blur(12px);
    background-image: linear-gradient(120deg, rgba(255 255 255 / 0.3), rgba(0 0 0 / 0.2));
    background-size: 100px 0px;
    box-shadow: 0px 4px 10px rgba(56 74 244 /0.75);
    white-space: nowrap;
    border: rgba(43, 255, 152, 1) 0.2em solid;
    border-radius: 0.5rem;
    position: absolute;
    top: 74%;
    left: 20%;
    left: 4%;
    opacity: 1;
    padding-block: 0.25rem;
    padding-inline: 0.5rem;
  }
  /* „Éá„Çπ„ÇØ„Éà„ÉÉ„Éó„Çµ„Ç§„Ç∫„Åß„ÅØ.right__text„ÅÆspan„ÇíÈÄöÂ∏∏Ë°®Á§∫ÔºàWordPress„Åã„ÇâÊù•„ÇãÊßãÈÄ†„Çí‰øùÊåÅÔºâ */
  .right__text span {
    display: inline;
    opacity: 1;
    transition: opacity 0.8s ease;
  }
  /* Âè≥„Çµ„Ç§„Éâ „Çµ„Ç§„Éà pcÁîªÂÉè */
  .split.right {
    top: 0;
    right: 0;
    z-index: 0;
    overflow: hidden;
  }

  .right__pcImageInner {
    aspect-ratio: 16 / 9;
    overflow: hidden;
  }
  .right__pcImage {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  /* Âè≥„Çµ„Ç§„Éâ „Çµ„Ç§„Éà spÁîªÂÉè */
  .split.right .right__spImage {
    width: auto;
    max-width: 40%;
    height: auto;
    max-height: 50%;
    position: absolute;
    top: 16%;
    right: 2%;
    object-fit: contain;
    animation: rotateCircle 10s linear infinite alternate;
  }
  @keyframes rotateCircle {
    0% {
      transform: translateY(-24px);
    }
    100% {
      transform: translateY(24px);
    }
  }
  /* Âè≥„Çµ„Ç§„Éâ „Çµ„Ç§„Éà„É™„É≥„ÇØ URL */
  .right__link {
    width: 100%;
    max-width: 90%;
    max-width: 600px;
    font-family: "Poppins", sans-serif;
    font-size: 0.9375rem;
    color: var(--color-white);
    background-color: transparent;
    background-image: linear-gradient(120deg, rgba(255 255 255 / 0.3), rgba(0 0 0 / 0.2));
    background-size: 100px 0px;
    text-decoration: none;
    border: rgba(43 255 152 / 1) 0.2em solid;
    box-shadow: 0 4px 16px rgba(49 196 190 / 0.75);
    border-radius: 0.5rem;
    -webkit-backdrop-filter: blur(12px);
    backdrop-filter: blur(12px);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    position: absolute;
    top: 64%;
    left: 4%;
    opacity: 0;
    transition:
      opacity 0.8s ease,
      transform 0.8s ease-in-out;
    padding-block: 0.5rem;
    padding-inline: 1rem;
  }
  .split.right .right__link:after {
    content: "";
    display: block;
    height: 0;
    opacity: 0;
    transform: translateY(-50%) scale(0.1);
    transition:
      opacity 0.5s,
      transform 0.8s ease-in-out;
    transition-delay: 0s, 0.4s;
  }
  /* .split.right .right__link:is(:hover, :focus-visible) {
    background: transparent;
  } */
  .hover-right .right__link {
    opacity: 1;
  }

  .split.right .right__link:is(:hover, :focus-visible)::after {
    opacity: 1;
    content: "";
    width: 100%;
    height: auto;
    position: absolute;
    top: 4%;
    left: 0.5%;
    z-index: -1;
    /* background: var(--gradient); */
    box-shadow: 0 4px 16px rgba(49 196 190 /0.75);
    opacity: 1;
    transform: scale(1.1);
    transition-delay: 0s;
    transition:
      opacity 0.8s,
      transform 0.6s ease-in-out;
    border-radius: 0.5rem;
  }
  .right__link span {
    display: inline-block;
    opacity: 0;
    transform: translateY(-24px);
    transition:
      opacity 0.3s ease-in,
      transform 0.3s ease-in;
  }
  .right__link span + span {
    padding: 4px;
  }
  .right__link span.is-active {
    opacity: 1;
    transform: translateY(0);
    transition: all 0.6s ease;
  }
  /* Âè≥„Çµ„Ç§„Éâ „Çπ„Ç≠„É´„Ç¢„Ç§„Ç≥„É≥ */
  .right__iconMenu {
    width: 100%;
    height: 12%;
    display: flex;
    justify-content: space-around;
    align-items: center;
    background-color: transparent;
    box-shadow: 0px 4px 60px 0 rgba(56 74 244 / 0.75);
    -webkit-backdrop-filter: blur(5px);
    backdrop-filter: blur(5px);
    background-image: linear-gradient(120deg, rgba(255 255 255 / 0.3), rgba(0 0 0 / 0.2));
    background-position: 200%;
    background-size: 40px 80px;
    position: absolute;
    bottom: 4%;
    right: 0%;
  }

  .split__container.right.right__iconMenu {
    opacity: 1;
  }
  .right__iconMenu_item {
    width: 10%;
    height: 70%;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    align-items: center;
    position: relative;
  }
  .right__iconMenu_image {
    width: 50%;
    height: 100%;
    height: auto;
    box-shadow: 0 4px 15px 0 rgba(49 196 190 / 0.75);
    object-fit: contain;
    position: relative;
    transition: transform 0.3s ease-in-out;
  }
  .right__iconMenu_text {
    font-family: "Poppins", san-serif;
    font-size: 0.75rem;
    opacity: 0;
    transition: opacity 0.3s ease;
    margin-top: -18px;
  }
  .right__iconMenu_item.is-active .right__iconMenu_image {
    transform: translateY(-24px);
  }
  .right__iconMenu_item.is-active .right__iconMenu_text {
    opacity: 1;
  }
  .right__iconMenu_item .right__iconMenu_cover {
    display: none;
  }

  /* „É¨„Çπ„Éù„É≥„Ç∑„ÉñÂØæÂøú */
  @media (width <= 768px) {
    .work {
      height: auto;
      min-height: 100vh;
    }

    .split__container {
      display: flex;
      flex-direction: column;
      height: 100%;
      min-height: 100vh;
      background: transparent;
    }

    /* Âè≥„Çµ„Ç§„Éâ„ÇíÂõ∫ÂÆö */
    .split.right {
      position: sticky;
      top: 0;
      width: 100%;
      height: auto;
      min-height: calc(100vh + 2rem);
      order: 1;
      overflow: visible;
      z-index: 3;
      padding-block-end: 2rem;
    }

    /* Â∑¶„Çµ„Ç§„Éâ„Çí‰∏ã„Å´ÈÖçÁΩÆÔºà.right„ÅÆ‰∏ä„ÇíË¢´„Åï„ÇãÔºâ */
    .split.left {
      position: relative;
      width: 100%;
      height: auto;
      min-height: 100vh;
      background-color: aliceblue;
      order: 2;
      top: auto;
      left: auto;
      z-index: 2;
      margin-block-start: calc(100vh + 2rem);
      padding-block-start: 2rem;
      padding-block-end: 2rem;
    }

    /* „Çπ„Éû„Éõ„Åß„ÅÆ„Éõ„Éê„Éº„Ç®„Éï„Çß„ÇØ„ÉàÁÑ°ÂäπÂåñ */
    .hover-left .left,
    .hover-right .right,
    .hover-left .right,
    .hover-right .left {
      width: 100% !important;
    }

    .hover-left .split.left::before,
    .hover-right .split.right::before {
      background: transparent;
    }

    /* Â∑¶„Çµ„Ç§„Éâ„ÅÆËÉåÊôØËâ≤„ÇíËß£Èô§ÔºàÈÄèÊòé„Å´Ôºâ */
    .split.left::before {
      background: transparent;
    }

    /* Âè≥„Çµ„Ç§„Éâ„ÅÆËÉåÊôØËâ≤„ÇíËß£Èô§ÔºàÈÄèÊòé„Å´Ôºâ */
    .split.right::before {
      background: transparent;
    }

    /* Â∑¶„Çµ„Ç§„Éâ „É¢„Éº„ÉÄ„É´È¢®„ÅÆË™øÊï¥ */
    .split.left.left1 .left__inner {
      position: static;
      width: 100%;
      left: 0;
      opacity: 0;
      -webkit-backdrop-filter: none;
      backdrop-filter: none;
      background-image: none;
      box-shadow: none;
      margin-block: 2rem;
      padding-block: 2rem;
      padding-inline: 1.5rem;
      will-change: opacity, transform;
      overflow-y: visible;
      overflow: visible;
      max-height: none;
      height: auto;
    }

    .left__title {
      font-size: 1.125rem;
    }
    .left__link span {
      font-size: 0.9375rem;
      font-weight: normal;
    }

    .left__leadMenu_header {
      font-size: 1rem;
      margin-block-start: 1.5rem;
    }

    .left__leadMenu_body {
      font-size: 0.9375rem;
    }

    /* Âè≥„Çµ„Ç§„Éâ „É≠„Ç¥„Ç¢„Ç§„Ç≥„É≥„ÅÆË™øÊï¥ */
    .right__logoIcon {
      width: 3.5rem;
      height: 3.5rem;
      top: 12%;
      left: 50%;
      left: 5%;
      transform: translateX(-50%);
    }

    /* Âè≥„Çµ„Ç§„Éâ „Éò„ÉÉ„ÉÄ„Éº„ÅÆË™øÊï¥ */
    .right__header {
      width: 90%;
      font-size: 1.25rem;
      top: 4%;
      left: 50%;
      transform: translateX(-50%);
      white-space: normal;
      text-align: left;
    }

    /* Âè≥„Çµ„Ç§„Éâ „Çµ„Ç§„Éà spÁîªÂÉè„ÅÆË™øÊï¥ */
    .split.right .right__spImage {
      width: auto;
      max-width: 30%;
      height: auto;
      max-height: 50%;
      top: 11%;
      right: 16%;
      transform: translateX(50%);
      object-fit: contain;
      animation: rotateCircleMobile 10s linear infinite alternate;
    }

    @keyframes rotateCircleMobile {
      0% {
        transform: translateX(50%) translateY(-12px);
      }
      100% {
        transform: translateX(50%) translateY(12px);
      }
    }

    /* Âè≥„Çµ„Ç§„Éâ BasicË™çË®º„ÉÜ„Ç≠„Çπ„Éà„ÅÆË™øÊï¥ */
    .right__text {
      width: 90%;
      max-width: 480px;
      font-size: 0.8125rem;
      line-height: 1.5;
      top: auto;
      top: 42%;
      bottom: auto;
      left: 50%;
      transform: translateX(-50%);
      white-space: normal;
      padding-block: 0.5rem;
      padding-inline: 0.75rem;
    }

    /* Âè≥„Çµ„Ç§„Éâ „Çµ„Ç§„Éà„É™„É≥„ÇØ„ÅÆË™øÊï¥ */
    .right__link {
      width: 90%;
      max-width: 480px;
      font-size: 0.9375rem;
      top: auto;
      top: 50%;
      bottom: auto;
      left: 50%;
      transform: translateX(-50%);
      white-space: normal;
      word-break: break-all;
      opacity: 1;
      padding-block: 0.75rem;
      padding-inline: 0.5rem;
    }

    /* Âè≥„Çµ„Ç§„Éâ „Çπ„Ç≠„É´„Ç¢„Ç§„Ç≥„É≥„ÅÆË™øÊï¥ - Êäò„ÇäËøî„ÅóÂØæÂøú */
    .right__iconMenu {
      width: 100%;
      height: auto;
      min-height: 140px;
      display: flex;
      flex-wrap: wrap;
      justify-content: flex-start;
      align-items: center;
      gap: 0.5rem;
      position: relative;
      top: auto;
      bottom: auto;
      left: auto;
      right: auto;
      margin-block-start: auto;
      margin-block-end: 2rem;
      margin-top: auto;
      margin-bottom: 2rem;
      padding-block: 1.5rem;
      padding-inline: 0.5rem;
      z-index: 5;
      flex-shrink: 0;
    }
    .right__iconMenu_item {
      width: calc(20% - 0.5rem);
      min-width: 60px;
      height: 60px;
      flex-shrink: 0;
    }

    .right__iconMenu_image {
      width: 100%;
      max-width: 40px;
      height: auto;
    }

    .right__iconMenu_text {
      /* font-size: 0.625rem; */
      font-size: 0.875rem;
      margin-top: -12px;
    }

    .right__iconMenu_item.is-active .right__iconMenu_image {
      transform: translateY(-12px);
    }
  }

  /* „Çà„ÇäÂ∞è„Åï„ÅÑÁîªÈù¢Âêë„Åë„ÅÆË™øÊï¥ */
  @media (width <= 480px) {
    .split.right {
      min-height: calc(100vh + 2rem);
      padding-block-end: 2rem;
    }
    .split.left {
      margin-block-start: calc(20vh + 2rem);
      padding-block-start: 2rem;
      padding-block-end: 2rem;
    }
    .split.right .right__spImage {
      right: 11%;
    }
    .right__header {
      font-size: 1.125rem;
    }

    .right__pcImageInner {
      aspect-ratio: 9 / 16;
    }

    .right__text {
      font-size: 0.75rem;
      top: 40%;
      padding-block: 0.5rem;
      padding-inline: 0.5rem;
    }

    .right__link {
      font-size: 0.875rem;
      font-weight: normal;
      top: 48%;
      padding-block: 0.5rem;
      padding-inline: 0.25rem;
    }

    .right__link span + span {
      padding: 2px;
    }

    .right__iconMenu_item {
      width: calc(25% - 0.5rem);
      min-width: 50px;
      height: 50px;
    }

    .right__iconMenu_image {
      max-width: 32px;
    }

    .right__iconMenu {
      min-height: 200px;
      position: relative;
      top: auto;
      bottom: auto;
      margin-block-start: auto;
      margin-block-end: 2rem;
      padding-block-start: 1rem;
      flex-shrink: 0;
      border: 1px solid red;
    }

    .right__iconMenu_text {
      font-size: 0.875rem;
      color: var(--color-black);
    }
  }
</style>
