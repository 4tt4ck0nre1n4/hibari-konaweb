---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { Image } from "astro:assets";
import sorryImage from "/public/assets/sorry.webp";
// import { Breadcrumbs } from "astro-breadcrumbs";
// import "astro-breadcrumbs/breadcrumbs.css";
// import "../styles/astro-breadcrumbs-config.scss";
import Breadcrumbs from "../components/Breadcrumbs.astro";
import globalText from "../data/globalText.json";
import errorText from "../data/errorText.json";

// 静的サイト生成でpagefindを使用するため、prerenderをtrueに設定
export const prerender = true;

const crumbs = [{ name: "Home", path: "/" }, { name: "Sorry..." }];

const sorryImageMeta = {
  alt: "開発中のため立ち入り禁止を案内する猫の画像",
  width: 200,
  height: 200,
};
---

<Layout
  title={globalText.sorry.title}
  description={globalText.sorry.description}
  ogType={globalText.local.type}
  ogTitle={globalText.sorry.title}
  ogDescription={globalText.sorry.description}
  twitterTitle={globalText.sorry.title}
  twitterDescription={globalText.sorry.description}
>
  <div id="outer-container">
    <Header />
    <main id="page-wrap">
      <div class="breadcrumbs__wrapper">
        <Breadcrumbs {crumbs} />
      </div>
      <div class="sorry__wrapper">
        <h1 class="sorry__header">
          {errorText.sorry.title}
        </h1>
        {errorText.sorry.body.map(({ text }) => <p class="sorry__body">{text}</p>)}
        <Image
          class="sorry__image"
          src={sorryImage}
          alt={sorryImageMeta.alt}
          width={sorryImageMeta.width}
          height={sorryImageMeta.height}
          loading="lazy"
          decoding="async"
        />
        <p class="sorry__body" set:html={errorText.sorry.link} />
      </div>
    </main>
    <Footer />
  </div>
</Layout>

<style>
  :root {
    --color-purple: rgb(102 51 153);
    --color-red: #ff4f48;
  }
  .sorry__wrapper {
    width: 100%;
    max-width: 700px;
    margin-inline: auto;
  }
  @media (max-width: 768px) {
    .sorry__wrapper {
      width: 90%;
    }
  }
  .sorry__header {
    font-size: 2rem;
    color: var(--color-red);
    text-align: center;
    margin-block-start: 3rem;
  }

  .sorry__body {
    font-size: 1rem;
    line-height: 2;
    letter-spacing: 0.1em;
    color: inherit;
    text-align: center;
    margin-block-start: 1rem;
  }
  .sorry__body:nth-of-type(3) {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  @media (max-width: 768px) {
    .sorry__header {
      font-size: 1.25rem;
      text-align: left;
    }
    .sorry__body {
      font-size: 0.9375rem;
      line-height: 1.8;
      letter-spacing: 0.05em;
      text-align: left;
    }
    .sorry__body:nth-of-type(3) {
      text-align: center;
    }
  }

  .sorry__image {
    display: block;
    width: 200px;
    height: 200px;
    object-fit: contain;
    margin-inline: auto;
    animation: movingCat 2s alternate infinite;
  }
  /* ダークモード時に猫の体を白色にする */
  html.dark .sorry__image {
    background-color: #ffffff;
    border-radius: 0.625rem;
    padding: 0.5rem;
  }
  @keyframes movingCat {
    0% {
      transform: translateY(0) translateZ(0);
    }
    100% {
      transform: translateY(-10px) translateZ(16px);
    }
  }

  /* .sorry__link {
    display: block;
    color: rebeccapurple;
    text-align: center;
    text-decoration: underline;
    margin-block-start: 3rem;
    padding-block: 1rem;
  }
  .sorry__link:is(:hover, :focus-within) {
    color: #ff4f48;
    text-decoration: none;
  } */
</style>
