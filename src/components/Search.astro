---
import "@pagefind/default-ui/css/ui.css";
---

<div id="search"></div>

<script>
  import { PagefindUI } from "@pagefind/default-ui";

  document.addEventListener("DOMContentLoaded", () => {
    new PagefindUI({
      element: "#search",
      showImages: true,
    });
  });
</script>

<style>
  #search {
    height: auto;
    background: white;
    border-radius: 0.5rem;
    border: 1px solid gray;
    transition-duration: 300ms;
    position: relative; /* Clock.astroと同じposition設定 */
  }

  #search:not(:has(.pagefind-ui__hidden)) {
    width: 100%;
    border-radius: 1rem;
    min-height: 14vh; /* Clock.astroと同じ高さ基準 */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 0.5rem; /* Clock.astroと同じパディング */
    box-sizing: border-box; /* Clock.astroと同じボックスサイズ */
  }

  @media screen and (max-width: 480px) {
    #search {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 12vh; /* モバイル版のClock.astroと同じ高さ */
      padding: 0.25rem; /* Clock.astroと同じパディング */
    }
  }

  /* iPhone特有の調整 */
  @media screen and (max-width: 480px) and (-webkit-min-device-pixel-ratio: 2) {
    #search {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 14vh; /* iPhone版のClock.astroと同じ高さ */
      padding: 0.25rem;
    }
  }

  /* Pagefind UIの検索ボックスのスタイル調整 */
  #search .pagefind-ui__search-input {
    font-size: 1rem;
    padding: 0.75rem;
    border-radius: 0.5rem;
    width: 100%;
    max-width: 400px; /* 最大幅を制限 */
  }

  @media screen and (max-width: 480px) {
    #search .pagefind-ui__search-input {
      font-size: 0.9rem; /* モバイルでは少し小さく */
      padding: 0.6rem;
      max-width: 100%; /* モバイルでは全幅使用 */
      margin: 0 auto; /* 中央配置 */
    }

    /* スマホサイズでのPagefind UIのコンテナ全体を中央配置 */
    #search .pagefind-ui {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
    }
  }
</style>
