---
import SafeIcon from "./SafeIcon.astro";

interface DebugIconProps {
  name: string;
  source?: string;
}

const { name, source } = Astro.props as DebugIconProps;

if (name === "" || name.trim() === "") {
  console.error(
    `DebugIcon: Empty or invalid icon name detected! Source: {typeof source === "string" && source.trim() !== "" ? source : "Unknown"}`
  );
  console.trace();
} else {
  console.log(
    `DebugIcon: Icon name used -> ${name} (Source: ${typeof source === "string" && source.trim() !== "" ? source : "Unknown"})`
  );
}

const resolvedSource = typeof source === "string" && source.trim() !== "" ? source : "Unknown";
---

<SafeIcon name={name} data-source={resolvedSource} />
