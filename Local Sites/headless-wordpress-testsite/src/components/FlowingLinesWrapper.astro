---
interface Props {
  className?: string;
}

const { className = "" } = Astro.props;
---

<div class={`flowingLines js-flowingLines ${className}`}>
  <slot />
</div>

<style is:global>
  .flowingLines {
    background: transparent;
    border-radius: 0.5rem;
    opacity: 1;
    position: relative;
    overflow: hidden;
    padding-block: 1rem;
  }
  .flowingLines.animate::before {
    content: "";
    display: block;
    width: 300px;
    height: 10px;
    background-color: red;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(236, 159, 255, 1),
      #ffffff71,
      rgba(147, 183, 255, 1),
      #ffffff71,
      rgba(170, 244, 254, 1),
      transparent
    );
    opacity: 0;
    position: absolute;
    top: 0;
    left: 0;
    animation: topLine 5.1s forwards ease-in-out;
  }
  .flowingLines.animate::after {
    content: "";
    display: block;
    width: 300px;
    height: 10px;
    background: linear-gradient(
      -90deg,
      transparent,
      rgba(236, 159, 255, 1),
      #ffffff71,
      rgba(147, 183, 255, 1),
      #ffffff71,
      rgba(170, 244, 254, 1),
      transparent
    );
    transform: translateX(400px);
    opacity: 0;
    position: absolute;
    top: auto;
    left: 0;
    bottom: 0;
    animation: underLine 5.5s forwards ease-in-out;
    animation-delay: 0.5s;
  }
  @keyframes topLine {
    0% {
      transform: translateX(0);
      width: 300px;
      opacity: 1;
    }
    20% {
      transform: translateX(400px);
    }
    40% {
      transform: translateX(0);
      width: 700px;
    }
    60% {
      opacity: 1;
    }
    100% {
      opacity: 0;
    }
  }
  @keyframes underLine {
    0% {
      transform: translateX(400px);
      width: 300px;
      opacity: 1;
    }
    20% {
      transform: translateX(0px);
    }
    40% {
      transform: translateX(0px);
      width: 700px;
    }
    60% {
      opacity: 1;
    }
    100% {
      opacity: 0;
    }
  }
</style>
